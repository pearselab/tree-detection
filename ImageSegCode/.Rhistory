library(EBImage)
require('EBImage')
Image <- readImage('C:/Users/Michael/Documents/GitHub/tree-detection/gis/nasmp-background-images/first_transect-google.png')
display(Image)
Image <- Image[0:800, 0:800,]
display(Image)
colorMode(Image) <- Grayscale
display(Image)
threshold <- otsu(Image)
Image_th <-combine( mapply(function(frame, th) frame > th, getFrames(Image), threshold, SIMPLIFY=FALSE) )
display(Image_th, all=TRUE)
Image_label <- bwlabel(Image_th)
display(colorLabels(Image_label))
table(Image_label)
Image <- readImage('C:/Users/Michael/Documents/GitHub/tree-detection/gis/nasmp-background-images/first_transect-google.png')
display(Image)
Image <- Image[0:800, 0:800,]
display(Image)
colorMode(Image) <- Grayscale
display(Image)
threshold <- otsu(Image)
Image_th <-combine( mapply(function(frame, th) frame > th, getFrames(Image), threshold, SIMPLIFY=FALSE) )
display(Image_th, all=TRUE)
Image_th=opening(Image_th, makeBrush(3,shape = 'disc'))
Image_th = fillHull(Image_th)
Image_th = bwlabel(Image_th)
display(colorLabels(Image_th), all=TRUE)
imask = opening(Image>.1, makeBrush(3,shape = 'disc'))
cmask = propagate(Image, seeds=Image_th, mask = imask)
display(imask, all = true)
segmented = paintObjects(cmask,Image,col = 'red',thick=TRUE)
segmented= paintObjects(Image_th, segmented, col='blue',thick=TRUE)
display(segmented,all=TRUE)
library(EBImage)
require('EBImage')
Image <- readImage('C:/Users/Michael/Documents/GitHub/tree-detection/gis/nasmp-background-images/third_transect-google.png')
display(Image)
Image <- Image[0:800, 0:800,]
display(Image)
colorMode(Image) <- Grayscale
display(Image)
threshold <- otsu(Image)
Image_th <-combine( mapply(function(frame, th) frame > th, getFrames(Image), threshold, SIMPLIFY=FALSE) )
display(Image_th, all=TRUE)
Image_th=opening(Image_th, makeBrush(3,shape = 'disc'))
Image_th = fillHull(Image_th)
Image_th = bwlabel(Image_th)
display(colorLabels(Image_th), all=TRUE)
imask = opening(Image>.1, makeBrush(3,shape = 'disc'))
cmask = propagate(Image, seeds=Image_th, mask = imask)
display(imask, all = true)
segmented = paintObjects(cmask,Image,col = 'red',thick=TRUE)
segmented= paintObjects(Image_th, segmented, col='blue',thick=TRUE)
display(segmented,all=TRUE)
